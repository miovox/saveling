# Section 4: Data Models

**A Note on IDs:** All primary key `id` fields will be **UUIDs**, automatically generated by the database upon record creation.

**A Note on Currency:** All currency amounts will be stored as integers in **cents** to avoid floating-point math errors.

**Model: Family**

* **Purpose:** The top-level account containing all users and data for a single family.
* **Relationships:** Has many Users.
* **TypeScript Interface:**
  ```typescript
  interface Family {
    id: string;
    handle: string; // The unique login handle
    displayName: string; // The friendly display name
  }
  ```

**Model: User (Profile)**

* **Purpose:** An individual family member. The `type` property will control permissions.
* **Relationships:** Linked to Buckets via BucketMembership.
* **TypeScript Interface:**
  ```typescript
  interface User {
    id: string;
    familyId: string;
    name: string;
    type: 'ADULT' | 'CHILD';
  }
  ```

**Model: Bucket**

* **Purpose:** A container for funds, tied to a specific purpose (e.g., 'Spend').
* **Relationships:** Linked to Users via BucketMembership. Has many Transactions.
* **TypeScript Interface:**
  ```typescript
  interface Bucket {
    id: string;
    name: string;
    iconId: string; // Reference to a curated icon
    balance: number; // A calculated value, in cents
  }
  ```

**Model: Transaction**

* **Purpose:** A record of a single financial event against a specific bucket.
* **Relationships:** Belongs to one Bucket.
* **TypeScript Interface:**
  ```typescript
  interface Transaction {
    id: string;
    bucketId: string;
    type: 'DEPOSIT' | 'WITHDRAWAL';
    amount: number; // Stored in cents
    date: string; // ISO 8601 format
    note?: string;
  }
  ```

---
